table(grepl("mean|std" , names(data)))
bdata<-data[grepl("mean|std" , names(data))]
View(bdata)
b<-grepl("mean|std" , names(data))
names(data[1])
names(data[563])
b<-grep("mean|std" , names(data))
bdata<-data[,c(1,b,563)]
table(bdata$Activity)
bdata$Activity<- ordered(bdata$Activity,
levels = c(1,2,3,4,5,6),
labels = c("WALKING",
"WALKING_UPSTAIRS",
"WALKING_DOWNSTAIRS",
"SITTING"
"STANDING"
"LAYING"
))
bdata$Activity<- ordered(bdata$Activity,
levels = c(1,2,3,4,5,6),
labels = c("WALKING",
"WALKING_UPSTAIRS",
"WALKING_DOWNSTAIRS",
"SITTING",
"STANDING",
"LAYING"
))
table(bdata$Activity)
str(bdata$Activity)
bdata<-data[,c(1,563,b)]
bdata$Activity<- ordered(bdata$Activity,
levels = c(1,2,3,4,5,6),
labels = c("WALKING",
"WALKING_UPSTAIRS",
"WALKING_DOWNSTAIRS",
"SITTING",
"STANDING",
"LAYING"
))
teadydata<-bdata
names(teadydata)<- gsub("^t","Time",names(teadydata))
names(teadydata)<- gsub("Acc","Accelerometer",names(teadydata))
names(teadydata)<- gsub("Gyro","Gyroscope",names(teadydata))
names(teadydata)<- gsub("Jerk","JerkSignals",names(teadydata))
names(teadydata)<- gsub("Mag","Magnitude",names(teadydata))
names(teadydata)<- gsub("^f","frequency",names(teadydata))
names(teadydata)<- gsub("mean()","MeanValue",names(teadydata))
names(teadydata)<- gsub("Std()","StandarDeviation",names(teadydata))
View(teadydata)
names(teadydata)<- gsub("std()","StandarDeviation",names(teadydata))
y<-split(teadydata$Activity,teadydata$Subject)
View(y)
View(y)
?group_by()
finaldata<-teadydata %>% group_by(Activity,Subject) %>%  summarise_all(funs(mean)
)
library(dplyr)
finaldata<-teadydata %>% group_by(Activity,Subject) %>%  summarise_all(funs(mean))
finaldata<-teadydata %>% group_by(Activity,Subject)
View(finaldata)
finaldata<-teadydata %>% group_by(Activity,Subject)  %>%  summarise_all(funs(mean))
View(finaldata)
rm(list = ())
rm(list = ls())
setwd("~/Desktop/R/Coursera-DataScience/Exploratory Data Analysis/Project 1-Week 1")
PowerData<-read.table("household_power_consumption.txt",  na.strings = "?", nrows=grep("2007-02-01 | 2007-02-02" , readLines("household_power_consumption.txt")))
PowerData<-read.table("household_power_consumption.txt",  na.strings = "?", skip=grep("!2007-02-01 | !2007-02-02" , readLines("household_power_consumption.txt")))
PowerData<-read.table("household_power_consumption.txt",  na.strings = "?", skip=grep("!2007-02-01" , readLines("household_power_consumption.txt")))
PowerData<-read.table("household_power_consumption.txt",  na.strings = "?", skip=grep("2007-02-01" , readLines("household_power_consumption.txt")))
power_consm<-read.table("household_power_consumption.txt", na.strings = "?")
View(power_consm)
rm(list = ls())
power_consm<-read.table("household_power_consumption.txt", header = FALSE, sep = ";" na.strings = "?" )
power_consm<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", na.strings = "?" )
View(power_consm)
str(PowerData)
str(power_consm)
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", as.is, na.strings = "?",
skip=grep("!2007-02-01|!2007-02-02" , readLines("household_power_consumption.txt")))
power_consm<-read.table("household_power_consumption.txt", header = FALSE, sep = ";",as.is, na.strings = "?" )
power_consm<-read.table("household_power_consumption.txt", header = FALSE, sep = ";",as.is = !stringsAsFactors, na.strings = "?" )
power_consm<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
str(power_consm)
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?",
skip=grep("!2007-02-01|!2007-02-02" , readLines("household_power_consumption.txt")))
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?",
skip=grep("!2007-02-01" , readLines("household_power_consumption.txt")))
str(power_consm)
b<-grep("!2007-02-01" , readLines("household_power_consumption.txt")
)
b<-grep("!2007-02-01" , readLines(power_consm))
b<-grep("2007-02-01" , readLines(power_consm))
b<-grep("2007-02-01" , readLines("household_power_consumption.txt"))
b<-grep("2007/02/01" , readLines("household_power_consumption.txt"))
b<-grep("1/2/2007" , readLines("household_power_consumption.txt"))
b<-grep(!"1/2/2007" , readLines("household_power_consumption.txt"))
b<-grep("!1/2/2007" , readLines("household_power_consumption.txt"))
b<-grep("(?!.*1/2/2007)!" , readLines("household_power_consumption.txt"))
b<-grep("(?!1/2/2007)!" , readLines("household_power_consumption.txt"))
b<-grep("(?!.*1/2/2007)" , readLines("household_power_consumption.txt"))
b<-grep("(?!1/2/2007)" , readLines("household_power_consumption.txt"))
b<-grep("1/2/2007|2/2/2007" , readLines("household_power_consumption.txt"))
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?",
skip=!grep("1/2/2007|2/2/2007" , readLines("household_power_consumption.txt")))
b<-!grep("1/2/2007|2/2/2007" , readLines("household_power_consumption.txt"))
b<-grep("1/2/2007|2/2/2007" , readLines("household_power_consumption.txt"))
b<- -grep("1/2/2007|2/2/2007" , readLines("household_power_consumption.txt"))
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?",
skip=-grep("1/2/2007|2/2/2007" , readLines("household_power_consumption.txt")))
b<- -grep("?!(1/2/2007|2/2/2007)" , readLines("household_power_consumption.txt"))
b<- grep("?!(1/2/2007)" , readLines("household_power_consumption.txt"))
b<- grep("?!(1/2/2007)" , readLines("household_power_consumption.txt"),perl = T))
b<- grep("?!(1/2/2007)" , readLines("household_power_consumption.txt"), perl = T)
b<- grep("?!.1/2/2007" , readLines("household_power_consumption.txt"), perl = T)
power_consm<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
power_consm<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
power_consm$Date<-as.Date(power_consm$Date)
View(power_consm)
View(power_consm)
power_consm<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
power_consm$Date<-as.Date(power_consm$Date, "%m/%d/%y")
View(power_consm)
power_consm<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
b<-power_consm
b$Date<-as.Date(b$Date, "%d%b%Y")
View(b)
b<-power_consm
b$Date<-as.Date(b$Date, "%a %b %d")
View(b)
View(b)
b<-power_consm
b$Date<-as.Date(b$Date)
View(b)
View(b)
View(b)
b<-power_consm
b$Date<-as.Date(b$Date, "%d/%m/%Y")
View(b)
View(power_consm)
power_consm$<-as.Date(power_consm$Date, "%d/%m/%Y")
power_consm$Date<-as.Date(power_consm$Date, "%d/%m/%Y")
power_consm$Time<-as.Date(power_consm$Time, "HMS")
power_consm$Time<-as.Date(power_consm$Time, "H:M:S")
power_consm<-b
power_consm$Date<-as.Date(power_consm$Date, "%d/%m/%Y")
b$Time<-as.Date(b$Time, "H:M:S")
b<-power_consm
b$Time<-as.Date(b$Time, "h:m:s")
b<-power_consm
b$Time<-as.Date(b$Time, "hms")
b<-power_consm
b$Time<-as.Date(b$Time, "hh:mm:ss ")
b<-power_consm
b$Time<-as.Date(b$Time, "hh:mm:ss ")
View(b)
b<-power_consm
View(b)
b$Time<-strptime(b$Time, "H:M:S ")
b<-power_consm
b$Time<-strptime(b$Time, "%H:%M:%S")
View(b)
b<-power_consm
b$Time<-format(b$Time,format="%H:%M:%S")
View(b)
str(b$Time)
str(b$Date)
b<-power_consm
b<-power_consm[which(2007-02-01<power_consm$Date & power_consm$Date<2007-02-02),]
str(power_consm$Date)
power_consm$Date[1]>2007-02-01
View(power_consm)
power_consm$Date[1]<2007-02-01
power_consm$Date[1]
power_consm$Date[1844367]<2007-02-01
power_consm$Date[1844367]<2007-02-02
power_consm$Date[1]<2007-02-02
power_consm$Date[2]<2007-02-02
power_consm$Date[2]< 2007-02-02
power_consm$Date[2]>2007-02-02
power_consm$Date[1844367]>2007-02-02
power_consm$Date[1]
power_consm$Date[1]>2006-12-16
power_consm$Date[1]<2006-12-16
power_consm$Date[1844367]<2006-12-16
power_consm$Date[1844367]>2006-12-16
power_consm$Date[1844367]>2007-02-02
power_consm$Date[1]>2007-02-02
power_consm$Date[1]>"2007-02-02"
power_consm$Date[1]<"2007-02-02"
b<-power_consm[which("2007-02-01"<power_consm$Date & power_consm$Date<"2007-02-02"),]
power_consm$Date[1]<"2007-02-01"
b<-power_consm[which("2007-02-01"<power_consm$Date),]
b<-power_consm[which("2007-02-03">power_consm$Date),]
View(b)
b<-power_consm[which("2007-02-01"<power_consm$Date),]
View(b)
b<-power_consm[which("2007-02-01"=<power_consm$Date),]
b<-power_consm[which("2007-02-01"<=power_consm$Date),]
b<-b[which("2007-02-03">b$Date),]
View(b)
View(b)
b<-power_consm[which("2007-02-01"<=power_consm$Date& power_consm$Date<"2007-02-03">),]
b<-power_consm[which("2007-02-01"<=power_consm$Date & power_consm$Date<"2007-02-03"),]
b<-power_consm[which("2007-02-01"<=power_consm$Date & power_consm$Date<"2007-02-03"),]
b<- grep("1/2/2007" , readLines("household_power_consumption.txt"), perl = T)
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?",
skip=grep("1/2/2007" , readLines("household_power_consumption.txt"), perl = T))
PowerData<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?",
skip=grep("1/2/2007" , readLines("household_power_consumption.txt"), perl = T))
colNames <- names(read.table("household_power_consumption.txt", nrow=1, header=TRUE, sep=";"))
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?",
skip=grep("1/2/2007" , readLines("household_power_consumption.txt"), perl = T))
power_consm<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
power_consm$Date<-as.Date(power_consm$Date, "%d/%m/%Y")
power_consm<-power_consm[which("2007-02-01"<=power_consm$Date & power_consm$Date<"2007-02-03"),]
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames
skip=grep("^[1,2]/2/2007", readLines("household_power_consumption.txt"), perl = T)-1,)
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=grep("^[1,2]/2/2007", readLines("household_power_consumption.txt"), perl = T)-1,)
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=grep("1/2/2007", readLines("household_power_consumption.txt"), perl = T))
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=grep("1/2/2007", readLines("household_power_consumption.txt")), nrow = 2880
)
View(PowerData)
View(power_consm)
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=grep("1/2/2007", readLines("household_power_consumption.txt"))[1]-1)
power_consm<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
b<-power_consm[which("2007-02-01"<=power_consm$Date),]
power_consm$Date<-as.Date(power_consm$Date, "%d/%m/%Y")
power_consm<-power_consm[which("2007-02-01"<=power_consm$Date & power_consm$Date<"2007-02-03"),]
View(b)
View(PowerData)
View(b)
View(b)
power_consm<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?" )
power_consm$Date<-as.Date(power_consm$Date, "%d/%m/%Y")
b<-power_consm[which("2007-02-01"<=power_consm$Date),]
power_consm<-power_consm[which("2007-02-01"<=power_consm$Date & power_consm$Date<"2007-02-03"),]
c<- grep("3/2/2007" , readLines("household_power_consumption.txt"))
d<- grep("1/2/2007" , readLines("household_power_consumption.txt"))
e<-c-d
c<- grep("3/2/2007" , readLines("household_power_consumption.txt")[1])
c<- grep("3/2/2007" , readLines("household_power_consumption.txt"))[1]
d<- grep("1/2/2007" , readLines("household_power_consumption.txt"))[1]
e<-c-d
str(e)
PowerData<-read.table("household_power_consumption.txt", header = FALSE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=grep("1/2/2007", readLines("household_power_consumption.txt"))[1]-1,
nrows = (grep("3/2/2007" , readLines("household_power_consumption.txt"))[1]) -
grep("1/2/2007" ,readLines("household_power_consumption.txt"))[1])
View(PowerData)
PowerData<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=grep("1/2/2007", readLines("household_power_consumption.txt"))[1]-1,
nrows = (grep("3/2/2007" , readLines("household_power_consumption.txt"))[1]) -
grep("1/2/2007" ,readLines("household_power_consumption.txt"))[1])
View(PowerData)
hist(power_consm$Global_active_power)
?hist
hist(power_consm$Global_active_power,col = "red" main = "Global Active Power", xlab="Global active power(kilowatts)")
hist(power_consm$Global_active_power,col = "red",main = "Global Active Power", xlab="Global active power(kilowatts)")
hist(power_consm$Global_active_power,col = "red",main = "Global Active Power", xlab="Global active power(kilowatts)", ylim = 200)
hist(power_consm$Global_active_power,col = "red",main = "Global Active Power", xlab="Global active power(kilowatts)")
getwd()
jpeg("Plot results/plot1.jpg", width = 450, height = 450)
hist(power_consm$Global_active_power,col = "red",main = "Global Active Power", xlab="Global active power(kilowatts)")
dev.off()
PowerData<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=grep("1/2/2007", readLines("household_power_consumption.txt"))-1,
nrows = (grep("3/2/2007" , readLines("household_power_consumption.txt"))[1]) -
grep("1/2/2007" ,readLines("household_power_consumption.txt"))[1])
View(PowerData)
x<-paste(consump$Date,consump$Time)
power_consm$Datetime<-strptime(x, "%d/%m/%Y %H:%M:%S")
x<-paste(power_consm$Date,power_consm$Time)
power_consm$Datetime<-strptime(x, "%d/%m/%Y %H:%M:%S")
PowerData<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=(grep("1/2/2007", readLines("household_power_consumption.txt"))[1]-1),
nrows = (grep("3/2/2007" , readLines("household_power_consumption.txt"))[1]) -
grep("1/2/2007" ,readLines("household_power_consumption.txt"))[1])
View(power_consm)
PowerData<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=(grep("1/2/2007", readLines("household_power_consumption.txt"))),
nrows = (grep("3/2/2007" , readLines("household_power_consumption.txt"))[1]) -
grep("1/2/2007" ,readLines("household_power_consumption.txt"))[1])
PowerData<-read.table("household_power_consumption.txt", header = TRUE, sep = ";", stringsAsFactors = FALSE, na.strings = "?", col.names = colNames,
skip=(grep("1/2/2007", readLines("household_power_consumption.txt"))[1]-2),
nrows = (grep("3/2/2007" , readLines("household_power_consumption.txt"))[1]) -
grep("1/2/2007" ,readLines("household_power_consumption.txt"))[1])
View(PowerData)
x<-paste(PowerData$Date,PowerData$Time)
PowerData$Datetime<-strptime(x, "%d/%m/%Y %H:%M:%S")
View(PowerData)
plot(Datetime, Global_active_power)
plot(PowerData$Datetime, PowerData$Global_active_power)
?plot
plot(PowerData$Datetime, PowerData$Global_active_power, type = l,
ylab="Global Active Power(kilowatts)",
xlab=""
)
plot(PowerData$Datetime, PowerData$Global_active_power, type = "l",
ylab="Global Active Power(kilowatts)",
xlab=""
)
jpeg("Plot results/plot2.jpg", width = 450, height = 450)
plot(PowerData$Datetime, PowerData$Global_active_power, type = "l",
ylab="Global Active Power(kilowatts)",
xlab=""
)
dev.off()
PM25<- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
setwd("~/Desktop/R/Coursera-DataScience/Exploratory Data Analysis/Project 2-Week 4")
PM25<- readRDS("exdata-data-NEI_data/summarySCC_PM25.rds")
SCC <- readRDS("exdata-data-NEI_data/Source_Classification_Code.rds")
table(PM25Data$year)
table(PM25$year)
View(PM25)
barplot(table(PM25$year))
by_year <- PM25 %>% group_by(year)
library(dplyr)
by_year <- PM25 %>% group_by(year)
View(by_year)
by_year <- PM25 %>% group_by(year)  %>% sum(Emissions)
sum(by_year$Emissions)
tapply(PM25$Emissions, PM25$year,sum)
B<-tapply(PM25$Emissions, PM25$year,sum)
barplot(B)
?barplot
TotalEMS<-tapply(PM25$Emissions, PM25$year,sum)
barplot(TotalEMS, main = "Total emission by year", ylab = "PM25 emission", col= heat.colors(12))
MRPM25<-PM25[PM25$fips == "24510",]
View(MRPM25)
MREMS<-<-tapply(MRPM25$Emissions, MRPM25$year,sum)
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= heat.colors(15))
MREMS<-<-tapply(MRPM25$Emissions, MRPM25$year,sum)
MREMS<-tapply(MRPM25$Emissions, MRPM25$year,sum)
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= heat.colors(15))
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= heat.colors(9))
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= heat.colors(6))
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= cold.colors(6))
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= "blue"
)
TotalEMS<-tapply(PM25$Emissions, PM25$year,sum)
png("Plot results/plot1.png", width=480, height=480)
barplot(TotalEMS, main = "Total emission by year", ylab = "PM25 emission", col= heat.colors(8))
dev.off()
MRPM25<-PM25[PM25$fips == "24510"]
MREMS<-tapply(MRPM25$Emissions, MRPM25$year,sum)
png("Plot results/plot2.png", width=480, height=480)
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= rainbow(12))
dev.off()
library(ggplot2)
qplot(displ,hwy,data=mpg)
qplot(displ,hwy,data=mpg, color=drv )
qplot(displ,hwy,data=mpg,color=drv,geom = c("point","smooth"))
qplot(displ,hwy,data=mpg,geom = c("point","smooth"))
qplot(hwy,data=mpg,fill=drv)
qplot(displ, hwy,data=mpg,facets =.~ drv)
qplot(displ, hwy,data=mpg,facets =drv.~)
qplot(displ, hwy,data=mpg,facets =drv~.)
qplot(hwy,data=mpg,facets =drv~.)
qplot(hwy,data=mpg,facets =drv~., bandwidth=2)
qplot(hwy,data=mpg,facets =drv~., `binwidth=2)
qplot(hwy,data=mpg,facets =drv~., binwidth=2)
qplot(hwy,data=mpg,facets =drv~., binwidth=2)
qplot(displ, hwy,data=mpg,facets =.~ drv, geom = c("point","smooth"), method= "lm")
g <-ggplot(mpg, aes(displ, hwy))
Print(g)
g <-ggplot(mpg, aes(displ, hwy))
print(g)
p<- g + geom_point()
Print(p)
print(p)
g + geom_point()+ geom_smooth()
g + geom_point()+facet_grid(.~ drv) geom_smooth()
g + geom_point()+facet_grid(.~ drv)+geom_smooth()
g + geom_point()+facet_grid(.~ drv)+geom_smooth(method= "lm")
?geom_point()
g <-ggplot(MRPM25, aes(Emission, year))
g+geom_line()
g <-ggplot(MRPM25, aes(Emissions, year))
g+geom_line()
g <-ggplot(MRPM25, aes(Emissions, year,color= type))
g+geom_line()
g <-ggplot(MRPM25, aes(year,Emissions,color= type))
g+geom_line()
MRPM25$MREMS<-tapply(MRPM25$Emissions, MRPM25$year,sum)
g <-ggplot(MRPM25, aes(year,MREMS,color= type))
g+geom_line()
MRPM25<-PM25[PM25$fips == "24510"]
MRPM25<-PM25[PM25$fips == "24510"]
MRPM25<-PM25[PM25$fips == "24510",]
MREMS<-tapply(MRPM25$Emissions, MRPM25$year,sum)
y<-split(PM25$Emissions, MRPM25$year)
l<-sapply (y,sum)
y<-split(PM25$Emissions, MRPM25$year)
l<-sapply (y,sum)
TotalEMS<-tapply(PM25$Emissions, PM25$year,sum)
barplot(TotalEMS, main = "Total emission by year", ylab = "PM25 emission", col= heat.colors(8))
MRPM25<-PM25[PM25$fips == "24510",]
MREMS<-tapply(MRPM25$Emissions, MRPM25$year,sum)
barplot(MREMS, main = "Maryland Total emission by year", ylab = "PM25 emission", col= rainbow(12))
l<-MRPM25 %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
View(l)
MRPM25 %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
MRPM25 %>% summarise(TotEmission=sum(Emissions))
MRPM25<- group_by(year) %>% summarise(TotEmission=sum(Emissions))
MRPM25<- MRPM25) %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
MRPM25<- MRPM25 %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
MRPM25<-PM25[PM25$fips == "24510",]
MRPM25<- MRPM25 %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
MRPM25<-PM25[PM25$fips == "24510",]
MRPM25 <- filter(PM25, fips == '24510') %>% group_by(year, type) %>% summarise(totalEmit = sum(Emissions))
View(MRPM25)
P4data <- filter(PM25, fips == '24510') %>% group_by(year, type) %>% summarise(totalEmit = sum(Emissions))
g <-ggplot(P4data, aes(year,MREMS,color= type))
g+geom_line()
g <-ggplot(P4data, aes(year,totalEmit,color= type))
g+geom_line()
P4data <- filter(PM25, fips == '24510') %>% group_by(year, type) %>% summarise(totalEmit = sum(Emissions))
png("Plot results/plot3.png", width=480, height=480)
g <-ggplot(P4data, aes(year,totalEmit,color= type))
g+geom_line()
dev.off()
View(SCC)
table(SCC$Short.Name)
?grep()
grep("combustion", SCC$Short.Name)
grep("coal", SCC$Short.Name)
table(SCC$EI.Sector)
grep("coal", SCC$EI.Sector)
grep("coal", SCC$EI.Sector)
grep("Coal", SCC$EI.Sector)
place<-grep("[Cc]oal", SCC$EI.Sector)
place<-SCC$SCC[grep("[Cc]oal", SCC$EI.Sector)]
SCC$SCC[grep("[Cc]oal", SCC$EI.Sector)]
place<-SCC$SCC[grep("[Cc]oal", SCC$EI.Sector)]
Q4data<-filter(PM25,SCC="place")
Q4data<-filter(PM25,SCC=="place")
Q4data<-subset(PM25,SCC=="place")
Q4data<-subset(PM25,SCC==place)
place<-SCC$SCC[grep("[Cc]oal", SCC$EI.Sector)]
Q4data<-subset(PM25, SCC== place)
Q4data<-filter(PM25, SCC== place)
Q4data<-filter(PM25, SCC %in% place)
Q4data<-filter(PM25, SCC %in% place) %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
g<-ggplot(data=Q4data,aes(x=year,y=TotEmission))
g+geom_line()
g+geom_bar()
g+geom_col()
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission))
g+geom_col()
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission), color=Topo.color(10))
g+geom_col()+labs(y="Total emssion")
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission), color=topo.color(10))
g+geom_col()+labs(y="Total emssion")
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission), col=topo.color(10))
g+geom_col()+labs(y="Total emssion")
?ggplot()
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission,col=topo.color(10)))
g+geom_col()+labs(y="Total emssion")
?geom_col()
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission))
g+geom_col(col=topo.color(10))+labs(y="Total emssion")
g+geom_col(col="yellow")+labs(y="Total emssion")
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission, col="yellow"))
g+geom_col()+labs(y="Total emssion")
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission, col="red"))
g+geom_col()+labs(y="Total emssion")
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission))
g+geom_col(col="red")+labs(y="Total emssion")
g+geom_col(fill="yellow")+labs(y="Total emssion")
g+geom_col(fill="yellow")+labs(y="Total emssion", x= "year")
png("Plot results/plot4.png", width=480, height=480)
g<-ggplot(data=Q4data,aes(x=factor(year),y=TotEmission))
g+geom_col(fill="yellow")+labs(y="Total emssion", x= "year")
dev.off()
grep("motor"&"vehicle", SCC$EI.Sector)
grep("Motor", SCC$EI.Sector)
grep("motor", SCC$EI.Sector)
grep("vehicle", SCC$EI.Sector)
grep("Vehicle", SCC$EI.Sector)
table(SCC$SCC.Level.Three)
place<-SCC$SCC[grep("[Vv]ehicle", SCC$EI.Sector)]
Q5data<-filter(PM25, SCC %in% place) %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
g<-ggplot(data=Q5data,aes(x=factor(year),y=TotEmission))
g+geom_col(fill="green")+labs(y="Total emssion", x= "year")
Q5data<-filter(PM25, SCC %in% place & fips == "24510") %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
g<-ggplot(data=Q5data,aes(x=factor(year),y=TotEmission))
g+geom_col(fill="green")+labs(y="Total emssion", x= "year")
png("Plot results/plot5.png", width=480, height=480)
g<-ggplot(data=Q5data,aes(x=factor(year),y=TotEmission))
g+geom_col(fill="green")+labs(y="Total emssion", x= "year")
dev.off()
Q6data<-filter(PM25, fips == "06037" & fips == "24510") %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
Q6data<-filter(PM25, fips == "06037" | fips == "24510") %>% group_by(year) %>% summarise(TotEmission=sum(Emissions))
View(Q6data)
Q6data<-filter(PM25, fips == "06037" | fips == "24510") %>% group_by(year,fips) %>% summarise(TotEmission=sum(Emissions))
View(Q6data)
g<-ggplot(data=Q6data,aes(x=year,y=TotEmission, col=fips))
g+geom_line()+labs(y="Total emssion", x= "year")
g<-ggplot(data=Q6data,aes(x=year,y=TotEmission))
g+geom_line()+facet_grid(fips ~ ., scale = 'free')+labs(y="Total emssion", x= "year")
png("Plot results/plot6-1.png", width=480, height=480)
g<-ggplot(data=Q6data,aes(x=year,y=TotEmission, col=fips))
g+geom_line()+labs(y="Total emssion", x= "year")
dev.off()
png("Plot results/plot6-2.png", width=480, height=480)
g<-ggplot(data=Q6data,aes(x=year,y=TotEmission))
g+geom_line()+facet_grid(fips ~ ., scale = 'free')+labs(y="Total emssion", x= "year")
dev.off()
